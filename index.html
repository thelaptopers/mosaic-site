<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mosaic Portrait Studio</title>

<script defer src="https://cdn.jsdelivr.net/npm/face-api.js"></script>

<style>

body{
margin:0;
background:#0f0f0f;
font-family:Arial;
color:white;
text-align:center;
}

.container{
max-width:1100px;
margin:auto;
padding:25px;
}

.panel{
background:#1b1b1b;
padding:25px;
border-radius:12px;
box-shadow:0 15px 50px rgba(0,0,0,.5);
}

button{
background:#4f7cff;
border:none;
padding:12px 18px;
color:white;
border-radius:8px;
margin:8px;
cursor:pointer;
}

.viewer{
overflow:auto;
max-height:75vh;
margin-top:15px;
}

canvas{
background:white;
}

</style>
</head>

<body>

<div class="container">

<h2>Mosaic Portrait Generator</h2>

<div class="panel">

<input type="file" id="upload">
<br>

<button onclick="generate()">Generate</button>
<button onclick="download()">Download</button>

<div class="viewer">
<canvas id="canvas"></canvas>
</div>

</div>

</div>

<script>

const canvas = document.getElementById("canvas")
const ctx = canvas.getContext("2d")

async function generate(){

const file = document.getElementById("upload").files[0]
if(!file) return

await faceapi.nets.tinyFaceDetector.loadFromUri(
"https://justadudewhohacks.github.io/face-api.js/models"
)
