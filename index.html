<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portrait Mosaic Generator</title>

<style>
body{
font-family:Arial;
background:#111;
color:white;
text-align:center;
padding:30px;
}

.card{
background:#1e1e1e;
padding:25px;
border-radius:15px;
max-width:650px;
margin:auto;
}

button{
padding:12px 18px;
border:none;
background:#ff4d6d;
color:white;
border-radius:8px;
margin-top:10px;
}

canvas{
margin-top:20px;
max-width:100%;
}
</style>
</head>

<body>

<h1>AI Mosaic Portrait</h1>

<div class="card">

<input type="file" id="upload">

<br>

<button onclick="process()">Create Portrait</button>

<br>

<canvas id="canvas"></canvas>

</div>

<script>

function process(){

const file = document.getElementById("upload").files[0];
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const img = new Image();

img.onload = function(){

canvas.width = 500;
canvas.height = 500;

ctx.drawImage(img,0,0,500,500);

let size = 6;

for(let y=0;y<500;y+=size){
for(let x=0;x<500;x+=size){

let p = ctx.getImageData(x,y,1,1).data;

let avg = (p[0]+p[1]+p[2])/3;

ctx.fillStyle = `rgb(${avg},${avg},${avg})`;

ctx.fillRect(x,y,size,size);

}

}

};

img.src = URL.createObjectURL(file);

}

</script>

</body>
</html>
